function pad(e,a){var t="000000000"+e;return t.substr(t.length-a)}function isDefined(e){var a;return e!==a}function isTextNode(){return 3===this.nodeType}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ontype(){var e=$("#t").val();if(" "==e&&($("#t").val(""),e=""),e.indexOf(".")>0)return $("#t").val(""),!1;var a=e.charAt(e.length-1),t=e.charAt(e.length-2);e=e.replace("  "," "),e=e.replace("  "," ");var c=e;isNumeric(t)&&" "==a&&c.indexOf(" ")>0&&c.indexOf(":")<1&&c.length>2?c=c.substring(0,c.length-1)+":":isNumeric(t)&&" "==a&&c.indexOf(" ")>0&&c.indexOf(":")>1&&c.length>2&&(c=c.substring(0,c.length-1)+"-");var s=e.charAt(e.length-2)+e.charAt(e.length-1);"- "==s?c=c.substring(0,c.length-2)+",":", "==s&&(c=c.substring(0,c.length-2)+"-"),isNumeric(a)&&" "!=t&&!isNumeric(t)&&c.length>1&&":"!=a&&","!=a&&"-"!=a&&(c=c.splice(c.length-1,0," ")),!isNumeric(a)&&isNumeric(t)&c.length>1&&":"!=a&&","!=a&&"-"!=a&&(c=c.splice(c.length-1,0," ")),c=c.replace(";",":"),c=c.replace(/: /g,":"),c=c.replace(/ :/g,":"),c=c.replace(/ ,/g,","),c=c.replace(/, /g,","),c=c.replace(/ -/g,"-"),c=c.replace(/- /g,"-"),$("#t").val(c)}function sortNumber(e,a){return e-a}function searchtxt(what){if(""==what)return getDB(),!1;1==usenode&&socket.emit("sendtxt",what);var u="bi12_TG/OEBPS/",uen="nwt_E/OEBPS/",whatx=what.split(":"),what0=whatx[0],what1=whatx[1],what1x=what1.split(","),uniqueverses=[];$.each(what1x,function(e,a){-1===$.inArray(a,uniqueverses)&&uniqueverses.push(a)}),what=what0+":"+uniqueverses.join(),L("what2:"+what),what=what.replace(":,",":"),what=what.replace(": ",":"),what=what.replace(/: /g,":"),what=what.replace(/, /g,","),what=what.replace(/- /g,"-"),what=what.replace(/ :/g,":"),what=what.replace(/ ,/g,","),what=what.replace(/ -/g,"-"),what=what.replace(/  /g," "),L("what3:"+what),$("#t").val(what);var q=what.split(" ");if(2===q.length)var qpt="0",qtitle=toTitleCase(q[0]),qbk=q[0],qchve=q[1].split(":");if(3===q.length)var qpt=q[0],qtitle=qpt+" "+toTitleCase(q[1]),qbk=""+qpt+q[1],qchve=q[2].split(":");var qch=qchve[0],qve=qchve[1],qves="";-1==what.indexOf(":")?(qtitle+=" "+qchve[0],qch=1,qve=qchve[0],qves=qchve[0]):(qtitle+=" "+qchve[0]+":"+qchve[1],qves=qve),qve.indexOf(",")>0&&(tmp=qve.split(","),qve=tmp[0]),qve.indexOf("-")>0&&(tmp=qve.split("-"),qve=tmp[0]),qbk=qbk.toLowerCase();var u2="",u3=0,u33="";switch(qbk){case"genesis":case"ge":case"gen":u2="05_BI12_.GE",u3=1;break;case"exodo":case"exo":case"ex":u2="06_BI12_.EX",u3=2;break;case"levitico":case"lev":u2="07_BI12_.LE",u3=3;break;case"bilang":case"bil":u2="08_BI12_.NU",u3=4;break;case"deuteronomio":case"deu":u2="09_BI12_.DE",u3=5;break;case"josue":case"jos":u2="10_BI12_.JOS",u3=6;break;case"hukom":case"huk":u2="11_BI12_.JG",u3=7;break;case"ruth":case"ru":u2="12_BI12_.RU",u3=8;break;case"1samuel":case"1sa":case"1sam":u2="13_BI12_.1SA",u3=9;break;case"2samuel":case"2sa":case"2sam":u2="14_BI12_.2SA",u3=10;break;case"1hari":case"1ha":case"1hari":u2="15_BI12_.1KI",u3=11;break;case"2hari":case"2ha":case"2hari":u2="16_BI12_.2KI",u3=12;break;case"1cronica":case"1cr":case"1cro":u2="17_BI12_.1CH",u3=13;break;case"2cronica":case"2cr":case"2cro":u2="18_BI12_.2CH",u3=14;break;case"ezra":case"ezr":u2="19_BI12_.EZR",u3=15;break;case"nehemias":case"ne":u2="20_BI12_.NE",u3=16;break;case"esther":case"es":u2="21_BI12_.ES",u3=17;break;case"job":case"job":u2="22_BI12_.JOB",u3=18;break;case"awit":case"aw":case"awit":u2="23_BI12_.PS",u3=19;break;case"kawikaan":case"kaw":u2="24_BI12_.PR",u3=20;break;case"eclesiastes":case"ec":u2="25_BI12_.EC",u3=21;break;case"solomon":case"sol":u2="26_BI12_.CA",u3=22;break;case"isaias":case"isa":u2="27_BI12_.ISA",u3=23;break;case"jeremias":case"jer":u2="28_BI12_.JER",u3=24;break;case"panaghoy":case"pan":u2="29_BI12_.LA",u3=25;break;case"ezekiel":case"eze":u2="30_BI12_.EZE",u3=26;break;case"daniel":case"dan":u2="31_BI12_.DA",u3=27;break;case"oseas":case"os":u2="32_BI12_.HOS",u3=28;break;case"joel":case"joe":case"joel":u2="33_BI12_.JOE",u3=29;break;case"amos":case"am":case"amos":u2="34_BI12_.AM",u3=30;break;case"obadias":case"ob":u2="35_BI12_.OB",u3=31;break;case"jonas":case"jon":u2="36_BI12_.JON",u3=32;break;case"mikas":case"mik":u2="37_BI12_.MIC",u3=33;break;case"nahum":case"na":u2="38_BI12_.NAH",u3=34;break;case"habakuk":case"hab":u2="39_BI12_.HAB",u3=35;break;case"zefanias":case"zef":u2="40_BI12_.ZEP",u3=36;break;case"hagai":case"hag":u2="41_BI12_.HAG",u3=37;break;case"zacarias":case"zac":u2="42_BI12_.ZEC",u3=38;break;case"malakias":case"mal":u2="43_BI12_.MAL",u3=39;break;case"mateo":case"mat":u2="44_BI12_.MT",u3=40;break;case"marcos":case"mar":u2="45_BI12_.MR",u3=41;break;case"lucas":case"luc":u2="46_BI12_.LU",u3=42;break;case"juan":case"ju":u2="47_BI12_.JOH",u3=43;break;case"gawa":case"gaw":case"gawa":u2="48_BI12_.AC",u3=44;break;case"roma":case"ro":case"roma":u2="49_BI12_.RO",u3=45;break;case"1corinto":case"1co":case"1cor":u2="50_BI12_.1CO",u3=46;break;case"2corinto":case"2co":case"2cor":u2="51_BI12_.2CO",u3=47;break;case"galacia":case"gal":u2="52_BI12_.GA",u3=48;break;case"efeso":case"efe":u2="53_BI12_.EPH",u3=49;break;case"filipos":case"fil":u2="54_BI12_.PHP",u3=50;break;case"colosas":case"col":u2="55_BI12_.COL",u3=51;break;case"1tesalonica":case"1te":case"1tes":u2="56_BI12_.1TH",u3=52;break;case"2tesalonica":case"2te":case"2tes":u2="57_BI12_.2TH",u3=53;break;case"1timoteo":case"1ti":case"1tim":u2="58_BI12_.1TI",u3=54;break;case"2timoteo":case"2ti":case"2tim":u2="59_BI12_.2TI",u3=55;break;case"tito":case"tit":u2="60_BI12_.TIT",u3=56;break;case"filemon":case"flm":u2="61_BI12_.PHM",u3=57;break;case"hebreo":case"heb":u2="62_BI12_.HEB",u3=58;break;case"santiago":case"san":u2="63_BI12_.JAS",u3=59;break;case"1pedro":case"1pe":case"1ped":u2="64_BI12_.1PE",u3=60;break;case"2pedro":case"2pe":case"2ped":u2="65_BI12_.2PE",u3=61;break;case"1juan":case"1ju":u2="66_BI12_.1JO",u3=62;break;case"2juan":case"2ju":u2="67_BI12_.2JO",u3=63;break;case"3juan":case"3ju":u2="68_BI12_.3JO",u3=64;break;case"judas":case"jud":u2="69_BI12_.JUD",u3=65;break;case"apocalipsis":case"apo":case"apoc":u2="70_BI12_.RE",u3=66}u33="10010611"+pad(u3+4,2),L("qve:",qve),1==qch?(L("a"),u2+=".htm#chapter"+qch+"_verse"+qve,u33+=".htm"):-1==what.indexOf(":")?(L("b"),u2+=".htm#chapter"+qch+"_verse"+qve,u33+="-split"+qch+".htm"):""!=qve?(L("c"),u2+="-split"+qch+".htm#chapter"+qch+"_verse"+qve,u33+="-split"+qch+".htm"):(L("d"),u2+="-split"+qch+".htm#chapter"+qch,u33+="-split"+qch+".htm"),String.prototype.splice=function(e,a,t){return this.slice(0,e)+t+this.slice(e+Math.abs(a))},$("#q").html("Loading..."),$(".en").html("Loading..."),$.get(u+u2,function(e){}).done(function(data){var qq=data.toString(),qqq=qq.split("<body>");qq=qqq[1],qqq=qq.split("</body>"),qq=qqq[0],$("#q").html(qq),$("#q a[id^='page']").remove(),$(".ss").remove();var tmp2=rangeExpand(qves);tmp2.forEach(function(iii){hilyt(eval(qch),eval(iii))}),$("sup").click(function(){var e=$("#t").val();""==e&&($("#t").val($("#qtitle>b").html()),e=$("#qtitle>b").html()),$("#t").val(e.replace(":,",":")),$("#t").val(e+","+parseInt($(this).html())),justclick=parseInt($(this).html()),searchtxt($("#t").val())}),$(".w_ch>b").click(function(){var e=$("#t").val();""==e&&($("#t").val($("#qtitle>b").html()),e=$("#qtitle>b").html()),$("#t").val(e.replace(":,",":")),$("#t").val(e+",1"),justclick=1,searchtxt($("#t").val())}),""!=qve?(L(1),0!=justclick?(location.replace("?txt="+$("#t").val()+(isDefined(getUrlParameter("sync"))?"&sync":"")+"#chapter"+eval(qch)+"_verse"+justclick),justclick=0,L("aa")):(location.replace("?txt="+$("#t").val()+(isDefined(getUrlParameter("sync"))?"&sync":"")+"#chapter"+eval(qch)+"_verse"+eval(qve)),L("bb")),window.history.pushState({},"","?txt="+$("#t").val()+(isDefined(getUrlParameter("sync"))?"&sync":"")+"#chapter"+eval(qch)+"_verse"+eval(qve))):(L(2,qch),L("#chapter"+eval(qch)),1==justclick?(justclick=0,L("cc")):(location.replace("#chapter"+eval(qch)),L("dd")),window.history.pushState({},"","?txt="+$("#t").val()+(isDefined(getUrlParameter("sync"))?"&sync":"")+"#chapter"+eval(qch)))}),L(uen+u33),$.get(uen+u33,function(e){}).done(function(data){var qq=data.toString(),qqq=qq.split("<body");qq=qqq[1],qqq=qq.split("</body>"),qq="<br style='display:none' "+qqq[0]+"<br /><br /><br /><br /><br />",$(".en").html(qq),$(".en a[id^='page']").remove(),$(".en .w_navigation").remove(),$(".ss").remove();var tmp2=rangeExpand(qves);tmp2.forEach(function(iii){L(iii),hilyt(eval(qch),eval(iii))}),setTimeout(function(){qve>0&&$(".en").scrollTop($(".en #chapter"+qch+"_verse"+qve).position().top-$(".en").position().top-5)},200)}),$("#qtitle").html("<b>"+qtitle+"</b><hr>");var d=new Date,dt="";dt=d.toISOString(),$.jStorage.set(dt,qtitle)}function hilyt(e,a,t){t="undefined"==typeof t?"":t,$("a#chapter"+e+"_verse"+a).next().find("sup").addClass("hilyt"),$("a#chapter"+e+"_verse"+a).next().find("b").addClass("hilyt");var c=$("#q").html(),s=c.indexOf("chapter"+e+"_verse"+a+'">');if(-1==s)return!1;var r=c.indexOf("</span>",s);1>r?(r=c.indexOf("</b>",s),c=c.splice(r+4,0,"[[[")):(r=c.indexOf("</span>",s),c=c.splice(r+7,0,"[[["));var n=c.indexOf("<",r+8);c=c.splice(n,0,"]]]");var u=0,l=0;for(i=1;i<=5;i++)u=c.indexOf("chapter"+e+"_verse"+(a+1)+'">'),l=c.indexOf('class="sp"',n),(l>0&&u>l||l>0&&-1==u)&&(c=c.splice(l+11,0,"[[["),n=c.indexOf("<",l+11),c=c.splice(n,0,"]]]"),n=l+11);var n=c.indexOf("<",r+8);for(i=1;i<=5;i++)u=c.indexOf("chapter"+e+"_verse"+(a+1)+'">'),l=c.indexOf('class="sz"',n),s4=c.indexOf('class="sb"',n),-1==l&&(l=s4),(l>0&&u>l||l>0&&-1==u)&&(c=c.splice(l+11,0,"[[["),n=c.indexOf("<",l+11),c=c.splice(n,0,"]]]"),n=l+11);c=c.replace(/ \]\]\]/g,"]]]"),c=c.replace(/\[\[\[\[\[\[/g,"[[["),c=c.replace(/\]\]\]\]\]\]/g,"]]]"),c=c.replace(/\[\[\[/g,"<u>"),c=c.replace(/\]\]\]/g,"</u> "),c=c.replace(/<u\>\<\/u\>/g,""),""===t&&$("#q").html(c)}function getTimestamp(e){var a=e.match(/\d+/g);return+new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])}function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function rangeExpand(e){var a=new Array,t=e.split(","),c=0;return t.forEach(function(e){if(e.indexOf("-")>0)for(tmp1=e.split("-"),c=parseInt(tmp1[0]);c<=parseInt(tmp1[1]);c++)a.push(c);else a.push(e)}),a}function implode(e,a){var t="",c="",s="";if(1===arguments.length&&(a=e,e=""),"object"==typeof a){if("[object Array]"===Object.prototype.toString.call(a))return a.join(e);for(t in a)c+=s+a[t],s=e;return c}return a}function getDB(){var e=$.jStorage.storageSize()/1024;e+="Kb";var a=$.jStorage.index();$("#qtitle").html(""),$("#q").html(""),$.each(a,function(e,a){$("#q").append("<a class='a' href='#' onclick='$(\"#t\").val(\""+$.jStorage.get(a)+'");searchtxt("'+$.jStorage.get(a)+"\");'>"+$.jStorage.get(a)+"</a> ")}),$("#q").append("<a class='a f' href='#' onclick='$.jStorage.flush();$(\"#q\").html(\"\");'>CLEAR</a>")}function show(e){$("#t").val(e),L("what show:"+e),searchtxt($("#t").val())}function L(e){console.log(e)}var usenode=0,newtxt="";if(1==usenode){var socket=io.connect("http://"+document.domain+":8000");socket.on("updatetxt",function(e){L(e),e!=newtxt&&isDefined(getUrlParameter("sync"))&&(newtxt=e,$("#t").val(e),$("#b").trigger("click"))})}var getUrlParameter=function(e){var a,t,c=decodeURIComponent(window.location.search.substring(1)),s=c.split("&");for(t=0;t<s.length;t++)if(a=s[t].split("="),a[0]===e)return void 0===a[1]?!0:a[1]},justclick=0;$(document).ready(function(){$("#t").dblclick(function(){$("#t").val("").focus()}),$("#t").keyup(function(e){ontype(),13!=e.keyCode&&10!=e.keyCode||searchtxt($("#t").val())}),$("#t").change(function(e){ontype()}),$("#b").click(function(){""==$("#t").val()?getDB():searchtxt($("#t").val())}),$("#frm").submit(function(e){e.preventDefault()}),$("#qtop").click(function(){window.scrollTo(0,0),$("#t").val("").focus()}),$("#t").val("").focus(),isDefined(getUrlParameter("txt"))&&($("#t").val(getUrlParameter("txt")),$("#b").trigger("click"))}),String.prototype.splice=function(e,a,t){return this.slice(0,e)+t+this.slice(e+Math.abs(a))};var range=function(e,a,t){var c=[],s=typeof e,r=typeof a;if(0===t)throw TypeError("Step cannot be zero.");if("undefined"==s||"undefined"==r)throw TypeError("Must pass start and end arguments.");if(s!=r)throw TypeError("Start and end arguments must be of same type.");if("undefined"==typeof t&&(t=1),e>a&&(t=-t),"number"==s)for(;t>0?a>=e:e>=a;)c.push(e),e+=t;else{if("string"!=s)throw TypeError("Only string and number types are supported");if(1!=e.length||1!=a.length)throw TypeError("Only strings with one character are supported.");for(e=e.charCodeAt(0),a=a.charCodeAt(0);t>0?a>=e:e>=a;)c.push(String.fromCharCode(e)),e+=t}return c};